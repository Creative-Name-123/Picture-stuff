from PIL import Image
im = Image.open("mona lisa.jfif")
print(im.format, im.size, im.mode)
print("Middle point: (" + str(im.size[0]/2) + ", " + str(im.size[1]/2) + ")")
moreRectEdits = True
while moreRectEdits:
    print("Enter the coordinates of the rectangle that you want to edit (enter 0, 0, " + str(im.size[0]) + ", " + str(im.size[1]) + " to edit the entire image)")
    print("x1:")
    x1 = int(input())
    print("y1:")
    y1 = int(input())
    print("x2:")
    x2 = int(input())
    print("y2:")
    y2 = int(input())
    box = (x1, y1, x2, y2)
    region = im.crop(box)
    print("rotate clockwise:")
    clockwise = input()
    if not clockwise.lower() == "no":
        region = region.rotate(360-int(clockwise))
    print("Flip uppy downy?")
    flip = input()
    if flip.lower() == "yes":
        region = region.transpose(Image.Transpose.FLIP_TOP_BOTTOM)
    print("Flip lefty righty?")
    flip = input()
    if flip.lower() == "yes":
        region = region.transpose(Image.Transpose.FLIP_LEFT_RIGHT)
    im.paste(region, box)
    print("How much do you want to brighten this rectangle? Enter \"1\" to not change anything.")
    bright = int(input())
    region = region.point(lambda i: i * bright)  # This doesn't do anything for some reason
    print("Edit another rectangle?")
    if not input().lower() == "yes":
        moreRectEdits = False

im.show()
